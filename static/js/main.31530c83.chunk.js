(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{142:function(e,t,c){"use strict";c.r(t);var n,s=c(1),a=c(0),r=c(69),l=c.n(r),i=c(27),j=c(2),o=c(13),d=function(){var e=Object(a.useState)(""),t=Object(o.a)(e,2),c=t[0],n=t[1],r=Object(a.useState)(""),l=Object(o.a)(r,2),j=l[0],d=l[1];return Object(s.jsx)("div",{className:"container ",children:Object(s.jsx)("div",{className:"jumbotron mt-5",children:Object(s.jsxs)("div",{className:"card center-align",children:[Object(s.jsx)("div",{className:"card-header",children:Object(s.jsx)("h1",{children:"Join Chat Room"})}),Object(s.jsxs)("div",{className:"card-body",children:[Object(s.jsx)("input",{type:"text",className:"center-align w-50",placeholder:"Name",value:c,onChange:function(e){return n(e.target.value)}}),Object(s.jsx)("br",{}),Object(s.jsx)("input",{type:"text",className:"center-align w-50",placeholder:"Room",value:j,onChange:function(e){return d(e.target.value)}}),Object(s.jsx)("br",{}),Object(s.jsx)(i.b,{onClick:function(e){return c&&j?null:e.preventDefault()},to:"/chat?name=".concat(c,"&room=").concat(j),children:Object(s.jsx)("button",{type:"submit",className:"btn-large deep-blue mt-3",children:"Sign in"})})]})]})})})},b=c(74),m=c(71),u=c.n(m),h=c(72),x=c.n(h),f=c(73),O=c.n(f),p=c(43),g=c.n(p),v=function(e){var t=e.message,c=t.user,n=t.text,a=!1,r=e.name.trim().toLowerCase();return c===r&&(a=!0),a?Object(s.jsxs)("div",{className:"d-flex justify-content-end ",children:[Object(s.jsx)("p",{className:"d-flex pr-1",children:r}),Object(s.jsx)("div",{className:"d-flex bg-primary",children:Object(s.jsx)("p",{className:"d-flex text-white p-2",children:g.a.emojify(n)})})]}):Object(s.jsxs)("div",{className:"d-flex justify-content-start p-3",children:[Object(s.jsx)("div",{className:"d-flex",children:Object(s.jsxs)("p",{style:{color:"red"},className:"d-flex bg-light ",children:[g.a.emojify(n)," "]})}),Object(s.jsxs)("p",{style:{color:"red"},className:"d-flex p-10 ml-1 ",children:[" ",c]})]})},N=function(e){var t=e.room,c=e.message,n=e.setMessage,a=e.sendMessage,r=e.messages,l=e.name;return Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)("div",{style:{height:"95vh"},className:"d-flex flex-column justify-content-center w-50",children:[Object(s.jsxs)("div",{style:{height:"10%"},className:"d-flex flex-row bg-primary justify-content-between text-white",children:[Object(s.jsx)("div",{className:"p-3",children:Object(s.jsxs)("h3",{children:[t," ChatRoom"]})}),Object(s.jsx)("div",{className:" p-3 ",children:Object(s.jsx)("a",{href:"/",children:Object(s.jsx)("i",{className:"material-icons text-white",children:"close"})})})]}),Object(s.jsx)("div",{style:{height:"80%",backgroundColor:"white"},className:"d-flex justify-content-end",children:Object(s.jsx)(O.a,{className:"d-flex",children:r.map((function(e,t){return Object(s.jsx)("div",{children:Object(s.jsx)(v,{message:e,name:l})},t)}))})}),Object(s.jsx)("div",{className:"w-100 d-flex bg-primary ",children:Object(s.jsxs)("form",{className:"d-flex flex-row justify-content-between w-100 p-3 ",children:[Object(s.jsx)("input",{className:"bg-light",type:"text",placeholder:"type a message",value:c,onChange:function(e){return n(e.target.value)},onKeyPress:function(e){return"Enter"===e.key?a(e):null}}),Object(s.jsx)("button",{className:"btn-large deep-purple",onClick:function(e){return a(e)},children:"Send"})]})})]})})},y=function(e){var t=e.location,c=Object(a.useState)(""),r=Object(o.a)(c,2),l=r[0],i=r[1],j=Object(a.useState)(""),d=Object(o.a)(j,2),m=d[0],h=d[1],f=Object(a.useState)(""),O=Object(o.a)(f,2),p=O[0],g=O[1],v=Object(a.useState)([]),y=Object(o.a)(v,2),w=y[0],C=y[1],S="https://chatserverapp.glitch.me/";Object(a.useEffect)((function(){var e=u.a.parse(t.search),c=e.name,s=e.room;return n=x()(S),i(c),h(s),n.emit("join",{name:c,room:s},(function(){})),function(){n.emit("disconnect"),n.off()}}),[S,t.search]),Object(a.useEffect)((function(){n.on("message",(function(e){C([].concat(Object(b.a)(w),[e]))}))}),[w]);return console.log(p,w),Object(s.jsx)("div",{className:"bg-dark min-vh-100 d-flex flex-column justify-content-center align-items-center ",children:Object(s.jsx)(N,{room:m,message:p,setMessage:g,sendMessage:function(e){e.preventDefault(),p&&n.emit("sendMessage",p,(function(){return g("")}))},messages:w,name:l})})},w=function(){return Object(s.jsxs)(i.a,{basename:window.location.pathname||"",children:[Object(s.jsx)(j.a,{path:"/",exact:!0,component:d}),Object(s.jsx)(j.a,{path:"/chat",component:y})]})};l.a.render(Object(s.jsx)(w,{}),document.querySelector("#root"))}},[[142,1,2]]]);
//# sourceMappingURL=main.31530c83.chunk.js.map