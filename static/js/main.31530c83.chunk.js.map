{"version":3,"sources":["components/chat/Chat.js","components/join/Join.js","components/message/Message.js","components/infoBar/InfoBar.js","App.js","index.js"],"names":["socket","Join","useState","name","setName","room","setRoom","className","type","placeholder","value","onChange","e","target","onClick","preventDefault","to","Message","message","user","text","isSentByCurentUser","trimmedName","trim","toLowerCase","ReactEmoji","emojify","style","color","InfoBar","setMessage","sendMessage","messages","height","href","backgroundColor","map","i","onKeyPress","key","Chat","location","setMessages","Endpoint","useEffect","queryString","parse","search","io","emit","off","on","console","log","App","basename","window","pathname","path","exact","component","ReactDOM","render","document","querySelector"],"mappings":"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","file":"static/js/main.31530c83.chunk.js","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport queryString from \"query-string\";\nimport io from \"socket.io-client\";\nimport InfoBar from \"../../components/infoBar/InfoBar\";\n\nlet socket;\n\nconst Chat = ({ location }) => {\n  const [name, setName] = useState(\"\");\n  const [room, setRoom] = useState(\"\");\n  const [message, setMessage] = useState(\"\");\n  const [messages, setMessages] = useState([]);\n  const Endpoint = 'https://chatserverapp.glitch.me/';\n\n  useEffect(() => {\n    const { name, room } = queryString.parse(location.search);\n\n    socket = io(Endpoint);\n\n    setName(name);\n    setRoom(room);\n\n    // console.log(socket)\n\n    socket.emit(\"join\", { name, room }, () => {});\n\n    return () => {\n      // will unmount the component when leaving\n      socket.emit(\"disconnect\");\n\n      socket.off();\n    };\n  }, [Endpoint, location.search]);\n\n  useEffect(() => {\n    socket.on(\"message\", (message) => {\n      setMessages([...messages, message]);\n    });\n  }, [messages]);\n\n  //function for sending messages\n  const sendMessage = (e) => {\n    e.preventDefault();\n\n    if (message) {\n      socket.emit(\"sendMessage\", message, () => setMessage(\"\"));\n    }\n  };\n\n  console.log(message, messages);\n\n  return (\n    <div className=\"bg-dark min-vh-100 d-flex flex-column justify-content-center align-items-center \">\n      <InfoBar room={room} message={message} setMessage={setMessage} sendMessage={sendMessage} messages={messages} name={name} />\n    </div>\n  );\n};\n\nexport default Chat;\n","import React, {useState} from \"react\";\nimport {Link} from \"react-router-dom\"\n\nconst Join = () => {\n  const [name, setName] = useState(\"\");\n  const [room, setRoom] = useState(\"\")\n\n    return (\n    <div className=\"container \">\n      <div className=\"jumbotron mt-5\">\n        <div className=\"card center-align\">\n          <div className=\"card-header\">\n            <h1>Join Chat Room</h1>\n          </div>\n          <div className=\"card-body\">\n            <input\n              type=\"text\"\n              className=\"center-align w-50\"\n              placeholder=\"Name\"\n              value={name}\n              onChange={(e) => setName(e.target.value)}\n            />\n            <br />\n            <input\n              type=\"text\"\n              className=\"center-align w-50\"\n              placeholder=\"Room\"\n              value={room}\n              onChange={(e) => setRoom(e.target.value)}\n            />\n            <br/>\n            <Link onClick={e => (!name || !room) ? e.preventDefault() : null} to={`/chat?name=${name}&room=${room}`}>\n                <button type=\"submit\" className=\"btn-large deep-blue mt-3\">Sign in</button>\n            </Link>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Join;\n","import React from 'react'\nimport ReactEmoji from 'react-emoji'\n\nconst Message = ({message: {user, text}, name}) => {\n    let isSentByCurentUser = false\n\n    const trimmedName = name.trim().toLowerCase()\n\n    // eslint-disable-next-line no-undef\n    if(user === trimmedName) {\n        isSentByCurentUser = true\n    }\n\n    return (\n        isSentByCurentUser \n        ? (\n            <div className=\"d-flex justify-content-end \">\n                <p className=\"d-flex pr-1\" >{trimmedName}</p>\n                <div className=\"d-flex bg-primary\">\n                    <p className=\"d-flex text-white p-2\">{ReactEmoji.emojify(text) }</p>\n                </div>\n                \n\n            </div>\n        ) \n        : \n        (\n            <div className=\"d-flex justify-content-start p-3\">\n                \n                <div className=\"d-flex\">\n                    <p style={{color: \"red\"}} className=\"d-flex bg-light \">{ ReactEmoji.emojify(text) } </p>\n                </div>\n                <p style={{color: \"red\"}} className=\"d-flex p-10 ml-1 \"> {user}</p>\n            </div>\n        )\n    )\n\n\n}\n\nexport default Message","import React from \"react\";\nimport ScrollToBottom from \"react-scroll-to-bottom\"\nimport Message from \"../message/Message\"\nconst InfoBar = ({ room, message, setMessage, sendMessage, messages, name }) => (\n  <>\n    <div\n      style={{ height: \"95vh\" }}\n      className=\"d-flex flex-column justify-content-center w-50\"\n    >\n      <div\n        style={{ height: \"10%\" }}\n        className=\"d-flex flex-row bg-primary justify-content-between text-white\"\n      >\n        <div className=\"p-3\">\n          <h3>{room} ChatRoom</h3>\n        </div>\n        <div className=\" p-3 \">\n          <a href=\"/\">\n            <i className=\"material-icons text-white\">close</i>\n          </a>\n        </div>\n      </div>\n      <div\n        style={{ height: \"80%\", backgroundColor: \"white\" }}\n        className=\"d-flex justify-content-end\"\n      >\n        <ScrollToBottom className=\"d-flex\">\n            {messages.map((message, i) => <div key={i}><Message message={message} name={name} /></div>)}\n        </ScrollToBottom>\n      </div>\n\n      <div\n        \n        className=\"w-100 d-flex bg-primary \"\n      >\n        <form  className=\"d-flex flex-row justify-content-between w-100 p-3 \">\n          <input\n            className=\"bg-light\"\n            type=\"text\"\n            placeholder=\"type a message\"\n            value={message}\n            onChange={(e) => setMessage(e.target.value)}\n            onKeyPress={(e) => (e.key === \"Enter\" ? sendMessage(e) : null)}\n          />\n          <button className=\"btn-large deep-purple\" onClick={(e) => sendMessage(e)}>Send</button>\n        </form>\n      </div>\n    </div>\n  </>\n);\n\nexport default InfoBar;\n","import React from 'react';\nimport {BrowserRouter as Router, Route} from 'react-router-dom';\nimport Join from './components/join/Join'\nimport Chat from './components/chat/Chat'\n\nconst App = () => (\n    <Router basename={window.location.pathname || ''}>\n        <Route path=\"/\" exact component={Join} />\n        <Route path=\"/chat\" component={Chat}/>\n    </Router>\n)\n\nexport default App;\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(<App/>, document.querySelector('#root'))\n"],"sourceRoot":""}