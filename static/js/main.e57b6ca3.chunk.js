(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{142:function(e,t,c){"use strict";c.r(t);var s,n=c(1),a=c(0),r=c(69),l=c.n(r),i=c(27),j=c(2),o=c(13),d=function(){var e=Object(a.useState)(""),t=Object(o.a)(e,2),c=t[0],s=t[1],r=Object(a.useState)(""),l=Object(o.a)(r,2),j=l[0],d=l[1];return Object(n.jsx)("div",{className:"container ",children:Object(n.jsx)("div",{className:"jumbotron mt-5",children:Object(n.jsxs)("div",{className:"card center-align",children:[Object(n.jsx)("div",{className:"card-header",children:Object(n.jsx)("h1",{children:"Join Chat Room"})}),Object(n.jsxs)("div",{className:"card-body",children:[Object(n.jsx)("input",{type:"text",className:"center-align w-50",placeholder:"Name",value:c,onChange:function(e){return s(e.target.value)}}),Object(n.jsx)("br",{}),Object(n.jsx)("input",{type:"text",className:"center-align w-50",placeholder:"Room",value:j,onChange:function(e){return d(e.target.value)}}),Object(n.jsx)("br",{}),Object(n.jsx)(i.b,{onClick:function(e){return c&&j?null:e.preventDefault()},to:"/chat?name=".concat(c,"&room=").concat(j),children:Object(n.jsx)("button",{type:"submit",className:"btn-large deep-blue mt-3",children:"Sign in"})})]})]})})})},b=c(74),m=c(71),u=c.n(m),h=c(72),x=c.n(h),f=c(73),O=c.n(f),p=c(43),g=c.n(p),v=function(e){var t=e.message,c=t.user,s=t.text,a=!1,r=e.name.trim().toLowerCase();return c===r&&(a=!0),a?Object(n.jsxs)("div",{className:"d-flex justify-content-end ",children:[Object(n.jsx)("p",{className:"d-flex pr-1",children:r}),Object(n.jsx)("div",{className:"d-flex bg-primary",children:Object(n.jsx)("p",{className:"d-flex text-white p-2",children:g.a.emojify(s)})})]}):Object(n.jsxs)("div",{className:"d-flex justify-content-start p-3",children:[Object(n.jsx)("div",{className:"d-flex",children:Object(n.jsxs)("p",{style:{color:"red"},className:"d-flex bg-light ",children:[g.a.emojify(s)," "]})}),Object(n.jsxs)("p",{style:{color:"red"},className:"d-flex p-10 ml-1 ",children:[" ",c]})]})},N=function(e){var t=e.room,c=e.message,s=e.setMessage,a=e.sendMessage,r=e.messages,l=e.name;return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("div",{style:{height:"95vh"},className:"d-flex flex-column justify-content-center w-50",children:[Object(n.jsxs)("div",{style:{height:"10%"},className:"d-flex flex-row bg-primary justify-content-between text-white",children:[Object(n.jsx)("div",{className:"p-3",children:Object(n.jsxs)("h3",{children:[t," ChatRoom"]})}),Object(n.jsx)("div",{className:" p-3 ",children:Object(n.jsx)("a",{href:"/",children:Object(n.jsx)("i",{className:"material-icons text-white",children:"close"})})})]}),Object(n.jsx)("div",{style:{height:"80%",backgroundColor:"white"},className:"d-flex justify-content-end",children:Object(n.jsx)(O.a,{className:"d-flex",children:r.map((function(e,t){return Object(n.jsx)("div",{children:Object(n.jsx)(v,{message:e,name:l})},t)}))})}),Object(n.jsx)("div",{className:"w-100 d-flex bg-primary ",children:Object(n.jsxs)("form",{className:"d-flex flex-row justify-content-between w-100 p-3 ",children:[Object(n.jsx)("input",{className:"bg-light",type:"text",placeholder:"type a message",value:c,onChange:function(e){return s(e.target.value)},onKeyPress:function(e){return"Enter"===e.key?a(e):null}}),Object(n.jsx)("button",{className:"btn-large deep-purple",onClick:function(e){return a(e)},children:"Send"})]})})]})})},y=function(e){var t=e.location,c=Object(a.useState)(""),r=Object(o.a)(c,2),l=r[0],i=r[1],j=Object(a.useState)(""),d=Object(o.a)(j,2),m=d[0],h=d[1],f=Object(a.useState)(""),O=Object(o.a)(f,2),p=O[0],g=O[1],v=Object(a.useState)([]),y=Object(o.a)(v,2),w=y[0],C=y[1],S="https://chatserverapp.glitch.me/";Object(a.useEffect)((function(){var e=u.a.parse(t.search),c=e.name,n=e.room;return s=x()(S),i(c),h(n),s.emit("join",{name:c,room:n},(function(){})),function(){s.emit("disconnect"),s.off()}}),[S,t.search]),Object(a.useEffect)((function(){s.on("message",(function(e){C([].concat(Object(b.a)(w),[e]))}))}),[w]);return console.log(p,w),Object(n.jsx)("div",{className:"bg-dark min-vh-100 d-flex flex-column justify-content-center align-items-center ",children:Object(n.jsx)(N,{room:m,message:p,setMessage:g,sendMessage:function(e){e.preventDefault(),p&&s.emit("sendMessage",p,(function(){return g("")}))},messages:w,name:l})})},w=function(){return Object(n.jsxs)(i.a,{children:[Object(n.jsx)(j.a,{path:"/",exact:!0,component:d}),Object(n.jsx)(j.a,{path:"/chat",component:y})]})};l.a.render(Object(n.jsx)(w,{}),document.querySelector("#root"))}},[[142,1,2]]]);
//# sourceMappingURL=main.e57b6ca3.chunk.js.map